## 1. 今日完成工作

* 优化代理后台增量/存量查询数据获取，问题描叙及解决方式如下

  > 1.在代理/会员分支比较复杂的情况，请求增量/存量查询数据时出现超时，以至于无数据返回，此问题目前出现在港督
  >
  > 2.老的获取数据方式，是逐个分支递归，然后从叶子开始向上合计数据，这样如果分支结构复杂就会造成效率低下。经测试之前港督代理888999层级获取增量/存量查询数据时，耗时19~22秒左右，并且增量/存量查询需要获取代理下推广数据和代理自身数据两部分，所以查询时间要翻倍
  >
  > 3.解决此问题的方式，是通过T_WeiTouDetail表中的AgentID3Bao这个关系字段，即当代理ID等于AgentID3Bao时，可以获取到此代理下所有推广会员，以这样的关系进行计算就省去了递归会员邀请分支，所以提高了效率。经测试新的计算方式，在港督888999层级代理获取增量/存量数据时，耗时1~4秒。

* 优化获取包含H5邀请会员会员列表数据时，计算代理推广量，通过T_WeiTouDetail表中的AgentID3Bao这个关系字段，即当代理ID等于AgentID3Bao时，可以获取到此代理下所有推广会员，并计算相关推广数据

## 2. 明日工作计划

* 代理后台代理洗码费/抽水结算截至时间修改到上一个账单日
* 代理后台会员洗码费结算截至时间修改到上一个账单日
* 代理后台服务端添加代理逻辑删除接口
* 代理后台服务端添加会员逻辑删除接口

## 3. 总结

* 别人跟我说软件是什么，软件是我们程序猿制造出来的产品，我们是怎么制造它的，它就会呈现出什么样的效果给我们，我们在开发软件的时候足够认真，则软件就会呈现出很稳定的状态，反之我们在开发软件的时候交差了事，则软件同样会以耍赖甚至罢工来响应我们。从侧面也就能以某某人开发出来的软件来反应此人的做事风格，如果你开发出来的软件三天两头出纰漏，则不难看出你做事风格。

* 整个开发过程，做好详细的版本管理是相当必要的，不管是在后期的维护，以及相互协调配合工作都将显得事半功倍。

  

